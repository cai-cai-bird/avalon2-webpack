<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>avalon demo1</title>
<link href="/_css/avalon2-demo.1.0.0.css?f6064fe0cc628c1b57e0" rel="stylesheet"></head>
<body>
    <!--ms-controller-->
    <div class="tit">
        <h2 class="iconfont icon-tishi">controller绑定</h2>
    </div>
    <div class="fix">
        <div class="ms-controller" ms-controller="AAA">
            <div>{{@name}} : {{@color}}</div>
            <div ms-controller="BBB">
                <div>{{@name}} : {{@color}}</div>
                <div ms-controller="CCC">
                    <div>{{@name}} : {{@color}}</div>
                </div>
                <div ms-important="DDD">
                    <div>{{@name}} : {{@color}}</div>
                </div>
            </div>
        </div>
    </div>
    <!--ms-important-->
    <div class="tit">
        <h2>important绑定</h2>
    </div>
    <div class="fix">
        <div ms-important='aaa'>
            <div>{{@name}} : {{@color}}</div>
            <div ms-controller='bbb'>
                <div>{{@name}} : {{@color}}</div>
                <div ms-important='ccc'>
                    <div>{{@name}} : {{@color}}</div>
                </div>
            </div>
            <div ms-controller='ddd'>
                <div>{{@name}} : {{@color}}</div>
            </div>
        </div>
    </div>
    <!--ms-attr-->
    <div class="tit">
        <h2>ms-attr绑定</h2>
    </div>
    <div class="fix">
        <div ms-controller="attr">
            <span id="pka" ms-attr="@obj">直接引用对象{{@obj.title+' '+@obj.algin}} </span><br/>
            <span ms-attr="{dataWidth: @dataWidth, dataHeight: @dataHeight}">使用对象字面量</span><br/>
            <span ms-attr="@array">直接引用数组{{@array[0].aa+''+ @array[0].bb}}</span><br/>

            <span ms-attr="[@obj1, @obj2, (@toggle ? @obj3: @obj4)]">使用数组字面量,里面可以用三元运算符</span>
        </div>

    </div>

    <script language="javascript" TYPE="text/javascript">

        Function.prototype.myname = function() {
            return this.toString()
                    .substr( 0, this.toString().indexOf( "(" ) )
                    .replace("function ", "" );
        }
        function call_this( _fn ) { document.write( _fn.myname() ); }
        function _yeaaahhh() { /* do something */ }
        call_this( _yeaaahhh );


        var nameFromToStringRegex = /^function\s?([^\s(]*)/;

        /**
         * Gets the classname of an object or function if it can.  Otherwise returns the provided default.
         *
         * Getting the name of a function is not a standard feature, so while this will work in many
         * cases, it should not be relied upon except for informational messages (e.g. logging and Error
         * messages).
         *
         * @private
         */
        function className(object, defaultName) {
            var result = "";
            if (typeof object === 'function') {
                result = object.name || object.toString().match(nameFromToStringRegex)[1];
            } else if (typeof object.constructor === 'function') {
                result = className(object.constructor, defaultName);
            }
            return result || defaultName;
        }

    </script>
<script type="text/javascript" src="/_js/common.1.0.0.js?f6064fe0cc628c1b57e0"></script><script type="text/javascript" src="/_js/avalon2-demo.1.0.0.js?f6064fe0cc628c1b57e0"></script></body>
</html>